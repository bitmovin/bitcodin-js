!function(a){var b=function(a,b){var c=function(c,d,e){return new Promise(function(f,g){var h=new XMLHttpRequest;h.open(c,a+d,!0);for(var i in b)b.hasOwnProperty(i)&&h.setRequestHeader(i,b[i]);h.onreadystatechange=function(){if(this.readyState===this.DONE)if(this.status>=200&&this.status<300)if(this.responseText)try{f(JSON.parse(this.responseText))}catch(b){f(this.responseText)}else f();else if(this.responseText)try{g(JSON.parse(this.responseText))}catch(b){g(this.responseText)}else g(c+": `"+a+d+"` failed with status: ["+this.status+"]")},h.send(JSON.stringify(e))})};this.get=function(a,b){return c("GET",a,b)},this.post=function(a,b){return c("POST",a,b)},this.patch=function(a,b){return c("PATCH",a,b)},this["delete"]=function(a,b){return c("DELETE",a,b)}},c=function(a){if(!a||"string"!=typeof a)throw new Error("No bitcodin API key given");var c="http://portal.bitcodin.com/api/",d="v1",e={"Content-Type":"application/json","bitcodin-api-version":d,"bitcodin-api-key":a},f=new b(c,e);return{input:{create:function(a,b,c){return"string"==typeof a&&(a={url:a},b&&c&&(a.username=b,a.password=c)),f.post("input/create",a)},analayze:function(a){return f.patch("input/"+a+"/analyze")},list:function(a){return a=void 0===a||isNaN(a)?"":"/"+a,f.get("inputs"+a)},get:function(a){return f.get("input/"+a)},"delete":function(a){return f["delete"]("input/"+a)}},output:{s3:{create:function(a){return a.hasOwnProperty("type")||(a.type="s3"),f.post("output/create",a)}},gcs:{create:function(a){return a.hasOwnProperty("type")||(a.type="gcs"),f.post("output/create",a)}},ftp:{create:function(a){return a.hasOwnProperty("type")||(a.type="ftp"),f.post("output/create",a)}},list:function(a){return a=void 0===a||isNaN(a)?"":"/"+a,f.get("outputs"+a)},getDetails:function(a){return f.get("output/"+a)},"delete":function(a){return f["delete"]("output/"+a)}},encodingProfile:{create:function(a){return f.post("encoding-profile/create",a)},list:function(a){return a=void 0===a||isNaN(a)?"":"/"+a,f.get("encoding-profiles"+a)},get:function(a){return f.get("encoding-profile/"+a)},"delete":function(a){return f["delete"]("encoding-profile/"+a)}},job:{create:function(a){return f.post("job/create",a)},list:function(a){return a=void 0===a||isNaN(a)?"":"/"+a,f.get("jobs"+a)},getDetails:function(a){return f.get("job/"+a)},getStatus:function(a){return f.get("job/"+a+"/status")},transfer:{create:function(a){return f.post("job/transfer",a)},list:function(a){return f.get("job/"+a+"/transfers")}}},statistic:{get:function(){return f.get("statistics")},jobs:function(a,b){return f.get("statistics/jobs/"+a+"/"+b)}},payment:{invoice:{updateInfo:function(a){return f.post("payment/invoiceinfo",a)},getInfo:function(){return f.get("payment/invoiceinfo")}}},wallet:{get:function(){return f.get("wallet")},listDeposits:function(a){return a=void 0===a||isNaN(a)?"":"/"+a,f.get("wallet/deposits"+a)},listBills:function(a){return a=void 0===a||isNaN(a)?"":"/"+a,f.get("wallet/bills"+a)}}}};"function"==typeof define&&define.amd?define([],function(){return c}):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports?module.exports=c:exports=c:a.Bitcodin=c}(this);